"use strict";(self.webpackChunkinweb=self.webpackChunkinweb||[]).push([[440],{6171:function(e,t,n){n.r(t),n.d(t,{Head:function(){return C},default:function(){return v}});var l,a=n(7294),r=n(2529),c=n(3652),o=n(5861),u=n(4687),m=n.n(u),i=n(3639),s=n(2082),d=n(6594),p=n(7408),f=n(994),E=n(4118),Z=n(7782);n(3494).default.input.withConfig({displayName:"Account__UploadFile",componentId:"sc-111544c-0"})(["display:none;"]);function g(){var e,t,n=(0,Z.useTranslation)().t,l=a.useEffect,r=a.useContext,u=a.useRef,g=a.useState(null),h=(g[0],g[1],a.useState({})),v=h[0],C=h[1],x=u(null),b=function(e,t){var n;C(Object.assign({},v,((n={})[e]=t,n))),console.log(v)},y=r(c.Z);l((function(){y.showLoading(!0),E.c.Cloud.run("getMyProfile").then((function(e){e&&C(Object.assign({},e.get("data"))),y.showLoading(!1)}))}),[y.showLoading]);return a.createElement(a.Fragment,null,a.createElement(i.Z,{className:""},a.createElement(f.Z,null,a.createElement(p.Z,null,a.createElement("div",{className:"d-flex flex-column"},a.createElement("h3",null," ",n("myprofile")),a.createElement("div",null,n("shareProfile"))))),a.createElement(f.Z,null,a.createElement(p.Z,null,a.createElement("img",{onClick:function(){null==x||x.current.click()},src:v.docUrl||"/assets/images/profile.jpg",alt:"mdo",width:"128",height:"128",class:"rounded-circle me-1"}),a.createElement("input",{name:"document",ref:x,className:"file-upload d-none",type:"file",accept:"image/*",onChange:function(){var e=(0,o.Z)(m().mark((function e(t){var n,l,a,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new E.c.File("document",t.target.files[0]),e.next=3,n.save();case 3:l=e.sent,a=l.url(),r=Object.assign({},v,{docUrl:a}),C(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),a.createElement(f.Z,null,a.createElement(p.Z,null,a.createElement(s.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},a.createElement(s.Z.Label,null,"First Name"),a.createElement(s.Z.Control,{type:"text",placeholder:"",value:v.name,onChange:function(e){return b("name",e.target.value)}}))),a.createElement(p.Z,null,a.createElement(s.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},a.createElement(s.Z.Label,null,"Family Name"),a.createElement(s.Z.Control,{value:v.familyName,type:"text",placeholder:"",onChange:function(e){return b("familyName",e.target.value)}})))),a.createElement(f.Z,null,a.createElement(p.Z,null,a.createElement(s.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},a.createElement(s.Z.Label,null,"Contact Number"),a.createElement(f.Z,null,a.createElement(p.Z,{xs:3},a.createElement(s.Z.Control,{type:"text",placeholder:"Country Code",value:null==v?void 0:v.telCode,onChange:function(e){return b("telCode",e.target.value)}})),a.createElement(p.Z,{xs:9},a.createElement(s.Z.Control,{type:"text",placeholder:"",value:null==v?void 0:v.contact,onChange:function(e){return b("contact",e.target.value)}})))))),a.createElement(f.Z,null,a.createElement(p.Z,null,a.createElement(s.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},a.createElement(s.Z.Label,null,"Email Address"),a.createElement(f.Z,null,a.createElement(p.Z,{xs:6},a.createElement(s.Z.Control,{disabled:!0,type:"text",placeholder:"Email",value:null===E.c||void 0===E.c||null===(e=E.c.User)||void 0===e||null===(t=e.current())||void 0===t?void 0:t.get("email")})))))),a.createElement(f.Z,null,a.createElement(p.Z,null,a.createElement(s.Z,null,a.createElement(d.Z,{variant:"primary",onClick:(0,o.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.showLoading(!0),e.next=3,E.c.Cloud.run("updateProfile",{model:{data:v}});case 3:y.showLoading(!1);case 4:case"end":return e.stop()}}),e)})))},"Update"))))))}!function(e){e.female="female",e.male="male",e.other="other"}(l||(l={}));var h;function v(){a.useEffect;var e=a.useContext,t=a.useState(null),n=(t[0],t[1],a.useState({title:"CV",tags:[],location:[{id:"SG",label:"Singapore"}]}));n[0],n[1],e(c.Z);return a.createElement(r.Z,null,a.createElement("section",{className:"section"},a.createElement(g,null)))}!function(e){e.female="female",e.male="male",e.other="other"}(h||(h={}));var C=function(){return a.createElement(a.Fragment,null,a.createElement("title",null),a.createElement("script",{src:"/assets/pdf/pdf.js",type:"text/javascript"}))}}}]);
//# sourceMappingURL=component---src-pages-account-tsx-0f725bc4fcd479995787.js.map