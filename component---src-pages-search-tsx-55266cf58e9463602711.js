"use strict";(self.webpackChunkinweb=self.webpackChunkinweb||[]).push([[334],{9637:function(e,t,n){var r=n(7294),a=n(4802);t.Z=function(e){var t=e.items,n=(e.cols,e.Header),l=e.Body,c=e.onClick;return r.createElement(a.Z,{defaultActiveKey:["0"],alwaysOpen:!0},t.map((function(e,t){return r.createElement(a.Z.Item,{eventKey:t},r.createElement(a.Z.Header,{onClick:function(){return c&&c(e)}}," ",r.createElement(n,{data:e})," "),r.createElement(a.Z.Body,null,r.createElement(l,{data:e})))})))}},8826:function(e,t,n){n.r(t),n.d(t,{Head:function(){return A},default:function(){return S}});var r=n(7294),a=n(2529),l=n(4118),c=n(3639),o=n(994),u=n(7408),i=n(4942),s=n(5987),f=n(5900),m=n.n(f),d=n(9541),p=n(5893),E=["bsPrefix","bg","pill","text","className","as"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bg,a=e.pill,l=e.text,c=e.className,o=e.as,u=void 0===o?"span":o,i=(0,s.Z)(e,E),f=(0,d.vE)(n,"badge");return(0,p.jsx)(u,g(g({ref:t},i),{},{className:m()(c,f,a&&"rounded-pill",l&&"text-".concat(l),r&&"bg-".concat(r))}))}));y.displayName="Badge",y.defaultProps={bg:"primary",pill:!1};var b=y,v=n(6594),Z=n(9637),C=n(2082),w=n(4961),O=n(3652),j=n(2650),x=n(7782),k=function(e,t){return Array.isArray(t)?t.map((function(e){return r.createElement(b,null," ",e.label," ")})):"docUrl"===e?r.createElement("a",{className:"color-brand-1",href:t},"Download"):"[object Date]"===Object.prototype.toString.call(t)?(0,w.V)(t):"string"==typeof t?r.createElement(b,null," ",t):void 0},P=function(e){var t=e.data,n=((0,x.useTranslation)().t,t.get("data")),a=(null==n?void 0:n.tags)&&(null==n?void 0:n.tags.map((function(e){return e.name})).join(" "));return r.createElement("div",{className:"d-flex flex-row"},r.createElement("div",null,"Looking For job Matching "+a),r.createElement("div",{className:"ms-1"},k("",t.get("createdAt"))," ago"))},N=function(e){var t=e.data,n=(e.permissionToAccessDetails,(0,x.useTranslation)().t),a=r.useState(null),c=a[0],i=a[1],s=t.get("data"),f=((null==s?void 0:s.tags)&&(null==s||s.tags.map((function(e){return e.name})).join(" ")),r.useEffect),m=r.useState(""),d=m[0],p=m[1];t.get("objectId");return f((function(){}),[]),r.createElement("div",{className:"d-flex flex-column"},r.createElement("h3",null,"Application Detail"),r.createElement(o.Z,null,Object.keys(s).filter((function(e){return["tag","expectSalary","noticePeriod","location","docUrl","citizenship"].includes(e)})).map((function(e){return r.createElement(u.Z,null,r.createElement("div",null,n(e),":")," ",r.createElement("div",null,k(e,s[e])))}))),r.createElement("h3",null,"Contact Details"),r.createElement(o.Z,null,r.createElement(u.Z,null,r.createElement(v.Z,{onClick:function(){l.c.Cloud.run("getProfileByID",{id:t.get("owner")}).then((function(e){e?i(e):l.c.Cloud.run("createRequest",{applicationId:t.id}).then((function(e){p("Access Requested")}))}))}}," ",d||"Request Data"),r.createElement(o.Z,null,c&&Object.keys(c.get("data")).filter((function(e){return["telCode","contact"].includes(e)})).map((function(e){return r.createElement(u.Z,null,r.createElement("div",null,n(e),":")," ",r.createElement("div",null,k(e,c.get("data")[e])))}))))))},D=function(){var e=r.useState([]),t=e[0],n=e[1],a=r.useState(null),i=a[0],s=a[1],f=r.useState(""),m=f[0],d=f[1],p=(0,x.useTranslation)().t,E=r.useContext(O.Z);r.useContext(x.I18nextContext);r.useEffect((function(){E.showLoading(!0),l.c.Cloud.run("searchApplication").then((function(e){n(e),E.showLoading(!1)})),l.c.Cloud.run("getMyProfile").then((function(e){s(!!e)}))}),[]);var h=function(e){E.showLoading(!0),l.c.Cloud.run("searchApplication",{queryWord:e}).then((function(e){n(e),E.showLoading(!1)}))};return r.createElement(c.Z,{className:""},r.createElement("h3",null," ",p("searchapplication")),r.createElement(o.Z,null,r.createElement(u.Z,null,!i&&r.createElement(j.Z,{key:"primary",variant:"primary"},p("searchNotEnabled"),r.createElement("ol",null,!i&&r.createElement("li",null," ",p("noprofile")))))),r.createElement(o.Z,null,r.createElement(u.Z,{xs:"6"},r.createElement(C.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},r.createElement(C.Z.Control,{type:"text",placeholder:"keyword search",onChange:function(e){return d(e.target.value)}}))),r.createElement(u.Z,null,r.createElement(v.Z,{onClick:function(){h(m)}}," ","Search"," "))),r.createElement(o.Z,null,i&&r.createElement(u.Z,{className:"",onClick:function(){h(m)}},t.length," result",r.createElement(Z.Z,{onClick:function(e){},items:t,Body:N,Header:P}))))},S=function(){var e=r.useState([]),t=(e[0],e[1]);(0,x.useTranslation)().t;return r.useEffect((function(){l.c.Cloud.run("searchApplication").then((function(e){t(e)}))}),[]),r.createElement(a.Z,null,r.createElement("section",{className:"section"},r.createElement(D,null)))},A=function(){return r.createElement("title",null,"Home Page")}},4961:function(e,t,n){n.d(t,{V:function(){return r}});var r=function(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years":(n=t/2592e3)>1?Math.floor(n)+" months":(n=t/86400)>1?Math.floor(n)+" days":(n=t/3600)>1?Math.floor(n)+" hours":(n=t/60)>1?Math.floor(n)+" minutes":Math.floor(t)+" seconds"}}}]);
//# sourceMappingURL=component---src-pages-search-tsx-55266cf58e9463602711.js.map